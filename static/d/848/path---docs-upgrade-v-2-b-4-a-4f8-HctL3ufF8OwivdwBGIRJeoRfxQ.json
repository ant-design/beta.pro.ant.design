{"data":{"markdownRemark":{"html":"<p>In addition to many features in the Ant Design Pro 2.0 release, we've also upgraded the front-end build tool from roadhog to <a href=\"https://umijs.org/\">UmiJS</a> (referred to as umi). The reason that we say upgrading instead of replacing, is that umi is more than just a front-end build tool. It also includes a routing and plugin system for building a complete React application.</p>\n<p>If you want to add features from Ant Design Pro 2.0 to your original project and port the 2.0 code to your project, you should migrate your project from roadhog to umi. This document will guide you through the migration process. Before that, you may want to read umi's <a href=\"https://umijs.org/guide/\">documentation</a> so that you have a preliminary understanding of umi. This will be helpful for your migration work. The following is an overview of the steps for migration, and there will be more details later.</p>\n<p>Note: This migration guide is based on the latest v1 version. You can find the changes in the <a href=\"https://github.com/ant-design/ant-design-pro/commit/dc2118db78f9b2b7072051fea558e8d1386ce34c\">commit</a>. This commit is for reference only and cannot be directly applied to your project. If your version is too old, there may be some small differences. Please migrate with the specific situation.</p>\n<h2 id=\"migration-steps-overview\">Migration Steps Overview<a href=\"#migration-steps-overview\" aria-hidden class=\"anchor\">#</a></h2>\n<ul>\n<li>Change the dependency in <code>package.json</code> from roadhog to umi.</li>\n<li>Modify the settings in <code>.webpackrc.js</code> to <code>config/config.js</code>.</li>\n<li>Change the <code>src/routes</code> directory name to pages. pages is the defined umi directory.</li>\n<li>Remove <code>src/models/index.js</code>. In umi, the dva models in the models folder will be automatically loaded.</li>\n<li>Rename <code>index.ejs</code> to <code>pages/document.ejs</code>, which is the name defined by umi.</li>\n<li>Rename <code>index.less</code> to <code>global.less</code> and rename <code>index.js</code> to <code>global.js</code>, which are also umi-defined files.</li>\n<li>Add configuration routes to <code>config/config.js</code>.</li>\n<li>Modify the component nesting syntax in <code>src/layouts/BasicLayout.js</code>.</li>\n<li>Rename the 404 page.</li>\n<li>Modify the logic of the authorization route AuthorizedRoute.</li>\n<li>Modify the mock data.</li>\n<li>Add umi related files to <code>.gitignore</code>.</li>\n<li>Remedy possible problems by executing <code>tnpm start</code> and <code>tnpm run lint</code>.</li>\n</ul>\n<h2 id=\"migration-step-details\">Migration step details<a href=\"#migration-step-details\" aria-hidden class=\"anchor\">#</a></h2>\n<h3 id=\"modify-roadhog-dependency-to-umi\">Modify roadhog dependency to umi<a href=\"#modify-roadhog-dependency-to-umi\" aria-hidden class=\"anchor\">#</a></h3>\n<p>Open <code>package.json</code> in the root directory of the project and change the dependency to umi:</p>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\">\"dependencies\": {\n<span class=\"token deleted\">- \"dva\": \"^2.2.3\",</span>\n<span class=\"token deleted\">- \"dva-loading\": \"^2.0.3\",</span>\n<span class=\"token deleted\">- \"react-dom\": \"^16.4.1\",</span>\n<span class=\"token deleted\">- \"react-loadable\": \"^5.5.0\",</span>\n  ...\n},\n\"devDependencies\": {\n<span class=\"token inserted\">+ \"umi\": \"^2.0.0\",</span>\n<span class=\"token inserted\">+ \"umi-plugin-react\": \"^1.0.0\",</span>\n<span class=\"token deleted\">- \"roadhog\": \"^2.4.2\",</span>\n<span class=\"token deleted\">- \"roadhog-api-doc\": \"^1.1.2\",</span>\n  ...\n}</code></pre></div>\n<p>React is built into umi; libraries commonly used by React technology stacks like antd and dva are built into the umi-plugin-react plugin set. See <a href=\"https://umijs.org/plugin/umi-plugin-react.html\">Minor-plugin-react documentation</a>.</p>\n<p>In addition, the scripts in <code>package.json</code> also need to be modified accordingly:</p>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre class=\"language-diff\"><code class=\"language-diff\"><span class=\"token deleted\">- \"start\": \"cross-env ESLINT=none roadhog dev\",</span>\n<span class=\"token deleted\">- \"start:no-proxy\": \"cross-env NO_PROXY=true ESLINT=none roadhog dev\",</span>\n<span class=\"token deleted\">- \"build\": \"cross-env ESLINT=none roadhog build\",</span>\n<span class=\"token inserted\">+ \"start\": \"umi dev\",</span>\n<span class=\"token inserted\">+ \"start:no-mock\": \"cross-env MOCK=none umi dev\",</span>\n<span class=\"token inserted\">+ \"build\": \"umi build\",</span></code></pre></div>\n<p>Don't forget to update the dependencies to the latest versions with <code>npm update</code> after the modification is complete.</p>\n<h3 id=\"add-configuration-file-configconfigjs\">Add configuration file config/config.js<a href=\"#add-configuration-file-configconfigjs\" aria-hidden class=\"anchor\">#</a></h3>\n<p>Umi has defined <code>.umirc.js</code> and <code>config/config.js</code> as its configuration files (choose one). In Ant Design Pro, because of the large amount of settings, we choose to use <code>config/config.js</code>.</p>\n<p>You need to create <code>config/config.js</code> in your project. This configuration file needs to export a default object, which contains all the settings of umi. You can initialize it to the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">[</span>\n      <span class=\"token string\">'umi-plugin-react'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        antd<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        dva<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n          hmr<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>This configuration mounts the umi-plugin-react plugin set and enables the antd and dva plugins, allowing you to use antd and dva directly in your project.</p>\n<p>After adding <code>config/config.js</code> you can also migrate the configuration from <code>.webpackrc.js</code> under your project to <code>config/config.js</code>. <code>.webpackrc.js</code> is the af-webpack configuration file. Both umi and roadhog are dependent on it, so you can migrate directly. After the migration, you can delete the original <code>.webpackrc.js</code> and <code>.babelrc.js</code> files.</p>\n<p>However, it should be noted that the following settings in <code>.webpackrc.js</code> don't need to be copied into <code>config/config.js</code>:</p>\n<ul>\n<li>entry: umi will have a default routing mechanism that needs to be removed.</li>\n<li>extraBabelPlugins: umi-plugin-react has built-in support for on-demand compilation of antd, so there's no need to manually configure.</li>\n<li>The dva-hmr plugin under env: env is no longer needed and can be configured directly in the umi-plugin-react configuration.</li>\n<li>alias: umi will add the alias of <code>@/</code> to the src directory by default.</li>\n<li>html: umi uses <code>src/pages/document.ejs</code> as the html template by default.</li>\n</ul>\n<p>In addition, we recommend writing the <code>theme</code> configuration directly to <code>config/config.js</code>, and then you can delete <code>src/theme.js</code>.</p>\n<h3 id=\"rename-routes-to-pages\">Rename routes to pages<a href=\"#rename-routes-to-pages\" aria-hidden class=\"anchor\">#</a></h3>\n<p>A lot of specific conventions and settings are used in umi to efficiently implement some functions, like how <code>src/pages</code> directory is the directory where the page components are stored, as defined by umi. In Ant Design Pro 1.0, our pages were stored under <code>src/routes</code>; we only need to rename the routes to pages.</p>\n<h3 id=\"delete-modelsindexjs\">Delete models/index.js<a href=\"#delete-modelsindexjs\" aria-hidden class=\"anchor\">#</a></h3>\n<p>In umi, after the dva plugin is mounted, the files under models will be introduced as a dva model by default, so you no longer need to manually mount the model in <code>models/index.js</code>. You can delete the file.</p>\n<h3 id=\"modify-indexejs\">Modify index.ejs<a href=\"#modify-indexejs\" aria-hidden class=\"anchor\">#</a></h3>\n<p>Move <code>index.ejs</code> to <code>pages/document.ejs</code>, which is the path defined by umi. Reference <a href=\"https://umijs.org/guide/html-template.html\">œumi HTML template Documentation</a>.</p>\n<h3 id=\"modify-indexjs-and-indexless\">Modify index.js and index.less<a href=\"#modify-indexjs-and-indexless\" aria-hidden class=\"anchor\">#</a></h3>\n<p>Rename <code>index.js</code> to <code>global.js</code> and rename <code>index.less</code> to <code>global.less</code> so they will be mounted automatically by umi. You can refer to umi's <a href=\"https://umijs.org/guide/app-structure.html\">Directory Convention</a>. In addition, because the dva plugin will automatically mount the model and add the dva-loading plugin by default, the dva related content in index.js can be removed. Just keep the initialization logic like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token string\">'./polyfill'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'moment/locale/zh-cn'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'./rollbar'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>In addition, the <code>:global</code> flag in <code>global.less</code> can also be removed, because the style in <code>global.less</code> is global by default. It should be noted that cssModule is used by default except in that.</p>\n<h3 id=\"add-routing-configuration\">Add routing configuration<a href=\"#add-routing-configuration\" aria-hidden class=\"anchor\">#</a></h3>\n<p>This step is the most important. umi has built-in routing implementation, providing both defined and configured routing. In Ant Design Pro we use profile routing. You need to add an item named <code>routes</code> in <code>config/config.js</code>. Here we provide a sample based on the <code>/dashboard</code> page. You need to migrate according to your project. We recommend adding a <code>config/router.config.js</code> file and including it in <code>config/config.js</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// config/router.config.js</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    path<span class=\"token punctuation\">:</span> <span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span>\n    component<span class=\"token punctuation\">:</span> <span class=\"token string\">'../layouts/BasicLayout'</span><span class=\"token punctuation\">,</span>\n    routes<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token comment\">// dashboard</span>\n      <span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">:</span> <span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> redirect<span class=\"token punctuation\">:</span> <span class=\"token string\">'/dashboard/analysis'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        path<span class=\"token punctuation\">:</span> <span class=\"token string\">'/dashboard'</span><span class=\"token punctuation\">,</span>\n        name<span class=\"token punctuation\">:</span> <span class=\"token string\">'dashboard'</span><span class=\"token punctuation\">,</span>\n        icon<span class=\"token punctuation\">:</span> <span class=\"token string\">'dashboard'</span><span class=\"token punctuation\">,</span>\n        routes<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">:</span> <span class=\"token string\">'/dashboard/analysis'</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'analysis'</span><span class=\"token punctuation\">,</span> component<span class=\"token punctuation\">:</span> <span class=\"token string\">'./Dashboard/Analysis'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">:</span> <span class=\"token string\">'/dashboard/monitor'</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'monitor'</span><span class=\"token punctuation\">,</span> component<span class=\"token punctuation\">:</span> <span class=\"token string\">'./Dashboard/Monitor'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">:</span> <span class=\"token string\">'/dashboard/workplace'</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">'workplace'</span><span class=\"token punctuation\">,</span> component<span class=\"token punctuation\">:</span> <span class=\"token string\">'./Dashboard/Workplace'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>component is a string, relative to the path <code>src/pages</code>. For more information about routing, you can refer to the v2 version of the routing configuration, and umi's documentation. In addition, the original 1.0 version of the routing code <code>src/common/router.js</code> and <code>src/router.js</code> can also be deleted.</p>\n<h3 id=\"modify-layout-components\">Modify layout components<a href=\"#modify-layout-components\" aria-hidden class=\"anchor\">#</a></h3>\n<p>Because component routing is not used with react-router@4, you will need to modify your layout components. Change the <code>&#x3C;Switch/></code> component part to <code>{this.props.children}</code>.</p>\n<h3 id=\"rename-404-page\">Rename 404 page<a href=\"#rename-404-page\" aria-hidden class=\"anchor\">#</a></h3>\n<p>By default, <code>src/pages/404.js</code> is used as the 404 page in umi, so you need to rename the original <code>src/routes/Exception/404.js</code>.</p>\n<h3 id=\"modify-permission-routing\">Modify permission routing<a href=\"#modify-permission-routing\" aria-hidden class=\"anchor\">#</a></h3>\n<p>In 2.0, you can use the [Permissions Routing] provided by umi directly (<a href=\"https://umijs.org/guide/router.html#%E6%9D%83%E9%99%90%E8%B7%AF%E7\">https://umijs.org/guide/router.html#%E6%9D%83%E9%99%90%E8%B7%AF%E7</a> %94%B1). Of course, you can also keep the old scheme. Since it is not necessary, it will not be detailed in this article.</p>\n<h3 id=\"modifying-mock-data\">Modifying mock data<a href=\"#modifying-mock-data\" aria-hidden class=\"anchor\">#</a></h3>\n<p>In umi, the <code>mock/*.js</code> file is used as the mock file by default so you can delete the <code>.roadhogrc.mock.js</code> file after migrating the URL information of the mock data to the mock file. Note that the mock data in <code>.roadhogrc.mock.js</code> needs to be migrated; for example, you can migrate this part of the data by creating a new <code>mock/common.js</code>.</p>\n<p>For more instructions, please refer to umi's documentation page <a href=\"https://umijs.org/guide/mock-data.html\">Mock Data</a>.</p>\n<h3 id=\"modify-gitignore\">Modify .gitignore<a href=\"#modify-gitignore\" aria-hidden class=\"anchor\">#</a></h3>\n<p>After using umi you need to add the temporary file paths from umi in development and build to <code>.gitignore</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.umi\n.umi-production</code></pre></div>\n<h3 id=\"modify-code-alias-and-other-details\">Modify code alias and other details<a href=\"#modify-code-alias-and-other-details\" aria-hidden class=\"anchor\">#</a></h3>\n<p>After the above operations are completed, you can run <code>npm start</code> to start your project. You will see an error, but don't panic, follow the error message and modify it step by step. What you may need to modify is:</p>\n<ul>\n<li>Modify the alias <code>components/</code> to <code>@/components</code>. Of course, you can also keep the original alias directly in <code>config/config.js</code>.</li>\n<li>Modify the part related to dva in <code>src/utils/request.js</code>. You can use <code>umi/router</code> to do the jump directly.</li>\n<li><code>/exception/400</code> of <code>src/utils/request.js</code> can be changed to <code>/400</code>.</li>\n<li>Remove <code>const baseRedirect = this.getBaseRedirect();</code> related logic in <code>BasicLayout</code>, the logic of the redirect can be implemented through umi's routes configuration.</li>\n<li>Modify the related logic of <code>getPageTitle</code> and <code>getBreadcrumbNameMap</code> in <code>BasicLayout</code>, refer to the following code implementation. Complete code reference v1 upgrade <a href=\"https://github.com/ant-design/ant-design-pro/commit/dc2118db78f9b2b7072051fea558e8d1386ce34c\">commit</a>.</li>\n</ul>\n<p>Note: <code>memoizeOne</code> is a method provided by the <code>memoize-one</code> npm package. You need to install memoize-one first. <code>deepEqual</code> is provided by the <code>lodash.isequal</code> package, and related dependencies need to be installed.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/**\n * Get breadcrumb mapping\n * @param {Object} menuData menu configuration\n */</span>\n<span class=\"token keyword\">const</span> getBreadcrumbNameMap <span class=\"token operator\">=</span> <span class=\"token function\">memoizeOne</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">meun</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> routerMap <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">mergeMeunAndRouter</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">meunData</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    meunData<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">meunItem</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>meunItem<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">mergeMeunAndRouter</span><span class=\"token punctuation\">(</span>meunItem<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token comment\">// Reduce memory usage</span>\n      routerMap<span class=\"token punctuation\">[</span>meunItem<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> meunItem<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">mergeMeunAndRouter</span><span class=\"token punctuation\">(</span>meun<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> routerMap<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> deepEqual<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>In addition to the project can start normally, you should also run <code>tnpm run lint</code> to solve the lower-level problems that occur in the migration process. The problems and scenarios you may need to deal with are as follows:</p>\n<ul>\n<li><code>no-unused-vars</code> error: You can delete them without checking the problem.</li>\n<li><code>react/destructuring-assignment</code> error: You may need to replace something like <code>this.props.children</code> with <code>const { children } = this.props</code>.</li>\n</ul>\n<p>In addition, we recommend that you migrate to the 2.0 recommended lint rules to make your code more elegant.</p>\n<h2 id=\"using-the-new-features-in-20\">Using the new features in 2.0<a href=\"#using-the-new-features-in-20\" aria-hidden class=\"anchor\">#</a></h2>\n<p>It's easy to use the new 2.0 features after the roadhog to umi migration. In 2.0 we have the following new features added:</p>\n<ul>\n<li>A user information page.</li>\n<li>Support internationalization.</li>\n<li>Support for style switching.</li>\n</ul>\n<h3 id=\"create-account-page\">Create account page<a href=\"#create-account-page\" aria-hidden class=\"anchor\">#</a></h3>\n<p>You only need to copy the related code in the v2 <code>pages</code> directory to your project and modify the router configuration in <code>config/config.js</code>. This part is relatively simple, so I won't explain too much here. In addition to the new user information page, you can also refer to the update of other pages to jump to the code in your own project.</p>\n<h3 id=\"support-internationalization\">Support internationalization<a href=\"#support-internationalization\" aria-hidden class=\"anchor\">#</a></h3>\n<p>In Ant Design Pro 2.0 we used the umi plugin <code>umi-plugin-locale</code> for i18n. The plugin has also been built into the <code>umi-plugin-react</code> plugin set. You can turn on i18n by adding the <code>locale</code> configuration to the configuration of the collection.</p>\n<p>After enabling the i18n plugin, add the <code>locales</code> folder in the project directory, and add the i18n resource file according to the convention. Then, you can internationalize by using the API exposed by <code>umi/locale</code> in the project.</p>\n<p>More about the <code>umi-plugin-locale</code> configuration can be found in its <a href=\"https://umijs.org/plugin/umi-plugin-react.html#locale\">documentation</a>.</p>\n<h3 id=\"support-theme-switching\">Support theme switching<a href=\"#support-theme-switching\" aria-hidden class=\"anchor\">#</a></h3>\n<p>Ant Design Pro uses less and cssModule as a style solution. You can configure this theme style by configuring lessVars at compile time. This function is built into umi. You can configure <code>theme</code> in the configuration file. Refer to umi's <a href=\"https://umijs.org/config/#theme\">Configuration Documentation</a>.</p>\n<p>However, the adjustment of the navigation layout mode supported by the v2 version is mainly the upgrade of the business logic of the code. You can refer to the code of <code>src/layouts/BasicLayout.js</code> in the v2 code for adjustment.</p>\n<p>For online theme switching, because less is compiled at build time, in order to achieve switching, you need to support less in online compilation and other issues. To solve this problem, we developed the <code>ant-design-theme</code> webpack plugin and the <code>merge-less</code> plugin to implement this feature. If you need it, you can add the related code by referring to <code>config/plugin.config.js</code> and <code>src/models/setting.sj</code> in the v2 code.</p>\n<h3 id=\"more\">More<a href=\"#more\" aria-hidden class=\"anchor\">#</a></h3>\n<p>See Ant Design Pro 2.0's <a href=\"https://medium.com/ant-design/beautiful-and-powerful-ant-design-pro-2-0-release-51358da5af95\">release log</a> for more details.</p>","tableOfContents":"<ul>\n<li><a href=\"/docs/upgrade-v2/#migration-steps-overview\">Migration Steps Overview</a></li>\n<li>\n<p><a href=\"/docs/upgrade-v2/#migration-step-details\">Migration step details</a></p>\n<ul>\n<li><a href=\"/docs/upgrade-v2/#modify-roadhog-dependency-to-umi\">Modify roadhog dependency to umi</a></li>\n<li><a href=\"/docs/upgrade-v2/#add-configuration-file-configconfigjs\">Add configuration file config/config.js</a></li>\n<li><a href=\"/docs/upgrade-v2/#rename-routes-to-pages\">Rename routes to pages</a></li>\n<li><a href=\"/docs/upgrade-v2/#delete-modelsindexjs\">Delete models/index.js</a></li>\n<li><a href=\"/docs/upgrade-v2/#modify-indexejs\">Modify index.ejs</a></li>\n<li><a href=\"/docs/upgrade-v2/#modify-indexjs-and-indexless\">Modify index.js and index.less</a></li>\n<li><a href=\"/docs/upgrade-v2/#add-routing-configuration\">Add routing configuration</a></li>\n<li><a href=\"/docs/upgrade-v2/#modify-layout-components\">Modify layout components</a></li>\n<li><a href=\"/docs/upgrade-v2/#rename-404-page\">Rename 404 page</a></li>\n<li><a href=\"/docs/upgrade-v2/#modify-permission-routing\">Modify permission routing</a></li>\n<li><a href=\"/docs/upgrade-v2/#modifying-mock-data\">Modifying mock data</a></li>\n<li><a href=\"/docs/upgrade-v2/#modify-gitignore\">Modify .gitignore</a></li>\n<li><a href=\"/docs/upgrade-v2/#modify-code-alias-and-other-details\">Modify code alias and other details</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/docs/upgrade-v2/#using-the-new-features-in-20\">Using the new features in 2.0</a></p>\n<ul>\n<li><a href=\"/docs/upgrade-v2/#create-account-page\">Create account page</a></li>\n<li><a href=\"/docs/upgrade-v2/#support-internationalization\">Support internationalization</a></li>\n<li><a href=\"/docs/upgrade-v2/#support-theme-switching\">Support theme switching</a></li>\n<li><a href=\"/docs/upgrade-v2/#more\">More</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":{"zh_CN":"Upgrade to V2","en_US":"Upgrade to V2"},"order":2,"type":"Introduction"},"fields":{"path":"/docs/upgrade-v2.en-US.md","slug":"/docs/upgrade-v2","modifiedTime":1556095614339,"avatarList":[{"href":"/yutingzhao1991","text":"\n        yutingzhao1991\n","src":"https://avatars0.githubusercontent.com/u/1061968?s=40&amp;v=4"},{"href":"/chenshuai2144","text":"\n        chenshuai2144\n","src":"https://avatars1.githubusercontent.com/u/8186664?s=40&amp;v=4"},{"href":"/Raymonf","text":"\n        Raymonf\n","src":"https://avatars0.githubusercontent.com/u/8991740?s=40&amp;v=4"}]}},"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"title":{"zh_CN":"使用 TypeScript","en_US":"使用 TypeScript"},"order":7,"type":"进阶"},"fields":{"slug":"/docs/uset-typescript-cn","path":"/docs/uset-typescript.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Use TypeScript","en_US":"Use TypeScript"},"order":7,"type":"Advanced"},"fields":{"slug":"/docs/uset-typescript","path":"/docs/uset-typescript.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"独立使用 Pro 组件","en_US":"独立使用 Pro 组件"},"order":16,"type":"进阶"},"fields":{"slug":"/docs/use-components-alone-cn","path":"/docs/use-components-alone.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Use Pro Components Alone","en_US":"Use Pro Components Alone"},"order":16,"type":"Advanced"},"fields":{"slug":"/docs/use-components-alone","path":"/docs/use-components-alone.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"升级到 2.0 版本","en_US":"升级到 2.0 版本"},"order":2,"type":"入门"},"fields":{"slug":"/docs/upgrade-v2-cn","path":"/docs/upgrade-v2.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Upgrade to V2","en_US":"Upgrade to V2"},"order":2,"type":"Introduction"},"fields":{"slug":"/docs/upgrade-v2","path":"/docs/upgrade-v2.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"UI 测试","en_US":"UI 测试"},"order":15,"type":"进阶"},"fields":{"slug":"/docs/ui-test-cn","path":"/docs/ui-test.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"UI Test","en_US":"UI Test"},"order":15,"type":"Advanced"},"fields":{"slug":"/docs/ui-test","path":"/docs/ui-test.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"更换主题","en_US":"更换主题"},"order":14,"type":"进阶"},"fields":{"slug":"/docs/theme-cn","path":"/docs/theme.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Theme","en_US":"Theme"},"order":14,"type":"Advanced"},"fields":{"slug":"/docs/theme","path":"/docs/theme.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"修改样式","en_US":"修改样式"},"order":6,"type":"开发"},"fields":{"slug":"/docs/style-cn","path":"/docs/style.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Edit Style","en_US":"Edit Style"},"order":6,"type":"Development"},"fields":{"slug":"/docs/style","path":"/docs/style.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"和服务端进行交互","en_US":"和服务端进行交互"},"order":7,"type":"开发"},"fields":{"slug":"/docs/server-cn","path":"/docs/server.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Communicate with Server","en_US":"Communicate with Server"},"order":7,"type":"Development"},"fields":{"slug":"/docs/server","path":"/docs/server.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"路由和菜单","en_US":"路由和菜单"},"order":3,"type":"入门"},"fields":{"slug":"/docs/router-and-nav-cn","path":"/docs/router-and-nav.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Router and Nav","en_US":"Router and Nav"},"order":3,"type":"Introduction"},"fields":{"slug":"/docs/router-and-nav","path":"/docs/router-and-nav.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"设计资源","en_US":"设计资源"},"order":23,"type":"其他"},"fields":{"slug":"/docs/resource-cn","path":"/docs/resource.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Design Kit","en_US":"Design Kit"},"order":23,"type":"Other"},"fields":{"slug":"/docs/resource","path":"/docs/resource.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"新增页面","en_US":"新增页面"},"order":4,"type":"开发"},"fields":{"slug":"/docs/new-page-cn","path":"/docs/new-page.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"New Page","en_US":"New Page"},"order":4,"type":"Development"},"fields":{"slug":"/docs/new-page","path":"/docs/new-page.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"新增业务组件","en_US":"新增业务组件"},"order":5,"type":"开发"},"fields":{"slug":"/docs/new-component-cn","path":"/docs/new-component.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"New Component","en_US":"New Component"},"order":5,"type":"Development"},"fields":{"slug":"/docs/new-component","path":"/docs/new-component.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Mock 和联调","en_US":"Mock 和联调"},"order":13,"type":"进阶"},"fields":{"slug":"/docs/mock-api-cn","path":"/docs/mock-api.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Mock Data","en_US":"Mock Data"},"order":13,"type":"Advanced"},"fields":{"slug":"/docs/mock-api","path":"/docs/mock-api.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"布局","en_US":"布局"},"order":3,"type":"入门"},"fields":{"slug":"/docs/layout-cn","path":"/docs/layout.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Layout","en_US":"Layout"},"order":3,"type":"Introduction"},"fields":{"slug":"/docs/layout","path":"/docs/layout.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"引入外部模块","en_US":"引入外部模块"},"order":8,"type":"开发"},"fields":{"slug":"/docs/import-cn","path":"/docs/import.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Import Module","en_US":"Import Module"},"order":8,"type":"Development"},"fields":{"slug":"/docs/import","path":"/docs/import.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"国际化","en_US":"国际化"},"order":13,"type":"进阶"},"fields":{"slug":"/docs/i18n-cn","path":"/docs/i18n.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"i18n","en_US":"i18n"},"order":13,"type":"Advanced"},"fields":{"slug":"/docs/i18n","path":"/docs/i18n.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"图表","en_US":"图表"},"order":11,"type":"进阶"},"fields":{"slug":"/docs/graph-cn","path":"/docs/graph.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Charts","en_US":"Charts"},"order":11,"type":"Advanced"},"fields":{"slug":"/docs/graph","path":"/docs/graph.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"开始使用","en_US":"开始使用"},"order":0,"type":"入门"},"fields":{"slug":"/docs/getting-started-cn","path":"/docs/getting-started.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Getting Started","en_US":"Getting Started"},"order":0,"type":"Introduction"},"fields":{"slug":"/docs/getting-started","path":"/docs/getting-started.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"开始使用（蚂蚁金服用户）","en_US":"开始使用（蚂蚁金服用户）"},"order":1,"type":"入门"},"fields":{"slug":"/docs/getting-start-inner-cn","path":"/docs/getting-start-inner.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Getting Started (Ant Financial User)","en_US":"Getting Started (Ant Financial User)"},"order":1,"type":"Introduction"},"fields":{"slug":"/docs/getting-start-inner","path":"/docs/getting-start-inner.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"社区推荐","en_US":"社区推荐"},"order":24,"type":"其他"},"fields":{"slug":"/docs/from-community-cn","path":"/docs/from-community.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"From Community","en_US":"From Community"},"order":24,"type":"Other"},"fields":{"slug":"/docs/from-community","path":"/docs/from-community.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"常见问题","en_US":"常见问题"},"order":22,"type":"其他"},"fields":{"slug":"/docs/faq-cn","path":"/docs/faq.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"FAQ","en_US":"FAQ"},"order":22,"type":"Other"},"fields":{"slug":"/docs/faq","path":"/docs/faq.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"错误处理","en_US":"错误处理"},"order":17,"type":"进阶"},"fields":{"slug":"/docs/error-handle-cn","path":"/docs/error-handle.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Error Handle","en_US":"Error Handle"},"order":17,"type":"Advanced"},"fields":{"slug":"/docs/error-handle","path":"/docs/error-handle.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"构建和发布","en_US":"构建和发布"},"order":8,"type":"Deployment"},"fields":{"slug":"/docs/deploy-cn","path":"/docs/deploy.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Build & Deploy","en_US":"Build & Deploy"},"order":8,"type":"Deployment"},"fields":{"slug":"/docs/deploy","path":"/docs/deploy.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"更新日志","en_US":"更新日志"},"order":21,"type":"其他"},"fields":{"slug":"/docs/changelog-cn","path":"/docs/changelog.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Changelog","en_US":"Changelog"},"order":21,"type":"Other"},"fields":{"slug":"/docs/changelog","path":"/docs/changelog.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"业务图标","en_US":"业务图标"},"order":12,"type":"进阶"},"fields":{"slug":"/docs/biz-icon-cn","path":"/docs/biz-icon.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"BIZ Icon","en_US":"BIZ Icon"},"order":12,"type":"Advanced"},"fields":{"slug":"/docs/biz-icon","path":"/docs/biz-icon.en-US.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"权限管理","en_US":"权限管理"},"order":24,"type":"进阶"},"fields":{"slug":"/docs/authority-management-cn","path":"/docs/authority-management.zh-CN.md"}}},{"node":{"frontmatter":{"title":{"zh_CN":"Authority Management","en_US":"Authority Management"},"order":24,"type":"Advanced"},"fields":{"slug":"/docs/authority-management","path":"/docs/authority-management.en-US.md"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/docs/upgrade-v2","type":"/docs/"}}